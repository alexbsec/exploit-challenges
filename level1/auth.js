var readline = require('readline');

const ins = ["Username: ", "Password: "];

var accounts = {
	0: {
	user: 'admin',
	pass: 'Jhd893HGYT',
	balance: 10000000
	},
	1: {
	user: 'frank',
	pass: 'hacker',
	balance: 0
	}
};

var balance = {
	1: 1000000
};

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout,
});

let inputs = [];

function authenticate(username, password) {
	
	for (let i = 0; i < 2; i++) {
		if (username === accounts[i].user) {
			if (password === accounts[i].pass) {
				console.log("Logged in successfuly");
				return true;
			} else {
				console.log(`Invalid password for user ${username}`);
				return false;
			}
		}	
	}
	console.log("User not registered");
	return false;
}


function getInput(n) {
	const max = 2;
	rl.question(ins[n], (answer) => {
		inputs.push(answer);
		if (n < max - 1) {
        		getInput(n+1);
        	} else {
            		rl.close();
			auth = authenticate(inputs[0], inputs[1]);
		}
    	});
}

console.log(
    "Welcome to Insecure Bank Inc\n"
    + "Please log-in to continue."
);

getInput(0);
