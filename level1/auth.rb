  


def authenticate(username, password)
  accounts = {
  0 => { 
  "user":"admin",
  "pass":"SUJn39fmks",
  "balance":1000000,
},1 => {"user":"frank",
     "pass":"hacker",
     "balance":10
}}
  for i in 0..1
    if username == accounts[i][:user]
      if password == accounts[i][:pass]
        puts "Login successful"
        puts "Enter 'S' to view balance, 'T' to transfer money or 'I' to view account number: "
        resp = gets.chomp
        resp = resp.upcase
        balance = accounts[i][:balance]
        case resp
        when "S"
          puts "Your balance is #{balance}"
          return
        when "T"
          puts "Enter amount: "
          amount = gets.chomp
          amount = amount.to_i
          if amount > balance
            puts "Insufficient funds."
          else
            puts "Enter recipient account number: "
            accnum = gets.chomp
            accnum = accnum.to_i
            if accounts.key?(accnum)
              accounts[accnum][:balance] += amount
              accounts[i][:balance] -= amount
              balance -= amount
              puts "Transfer succesful. Your balance is #{balance} "
            else
              puts "Invalid account number"
            end
          end
          return
        when "I"
          puts "Your account number is #{i}"
          return
        else
          puts "Invalid option #{resp}"
          return
        end
      else
        puts "Invalid password for user #{username}"
        return
      end
    end
  end 
end




puts "Welcome to Insecure Bank Inc\n Pleas log-in to continue."
puts "Username: "
username = gets.chomp
puts "Password: "
password = gets.chomp
authenticate(username, password)


